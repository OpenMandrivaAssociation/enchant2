diff -up enchant-2.5.0/config.h.in.omv~ enchant-2.5.0/config.h.in
--- enchant-2.5.0/config.h.in.omv~	2023-05-27 18:25:42.122813704 +0200
+++ enchant-2.5.0/config.h.in	2023-05-27 18:25:53.500931128 +0200
@@ -613,7 +613,7 @@
    _GL_ATTRIBUTE_DEALLOC_FREE declares that the function returns pointers that
    can be freed via 'free'; it can be used only after declaring 'free'.  */
 /* Applies to: functions.  Cannot be used on inline functions.  */
-#if _GL_GNUC_PREREQ (11, 0)
+#if _GL_GNUC_PREREQ (11, 0) && !defined(__clang__)
 # define _GL_ATTRIBUTE_DEALLOC(f, i) __attribute__ ((__malloc__ (f, i)))
 #else
 # define _GL_ATTRIBUTE_DEALLOC(f, i)
diff -up enchant-2.5.0/lib/stdlib.in.h.omv~ enchant-2.5.0/lib/stdlib.in.h
--- enchant-2.5.0/lib/stdlib.in.h.omv~	2023-05-27 18:31:40.877469071 +0200
+++ enchant-2.5.0/lib/stdlib.in.h	2023-05-27 18:31:56.776629291 +0200
@@ -103,7 +103,7 @@ struct random_data
    that can be freed by passing them as the Ith argument to the
    function F.  */
 #ifndef _GL_ATTRIBUTE_DEALLOC
-# if __GNUC__ >= 11
+# if __GNUC__ >= 11 && !defined(__clang__)
 #  define _GL_ATTRIBUTE_DEALLOC(f, i) __attribute__ ((__malloc__ (f, i)))
 # else
 #  define _GL_ATTRIBUTE_DEALLOC(f, i)
diff -up enchant-2.5.0/lib/string.in.h.omv~ enchant-2.5.0/lib/string.in.h
--- enchant-2.5.0/lib/string.in.h.omv~	2023-05-27 18:32:02.742689383 +0200
+++ enchant-2.5.0/lib/string.in.h	2023-05-27 18:32:09.173754138 +0200
@@ -71,7 +71,7 @@
    that can be freed by passing them as the Ith argument to the
    function F.  */
 #ifndef _GL_ATTRIBUTE_DEALLOC
-# if __GNUC__ >= 11
+# if __GNUC__ >= 11 && !defined(__clang__)
 #  define _GL_ATTRIBUTE_DEALLOC(f, i) __attribute__ ((__malloc__ (f, i)))
 # else
 #  define _GL_ATTRIBUTE_DEALLOC(f, i)
